!!!
%html
  %head
    %meta{:content => "text/html; charset=UTF-8", "http-equiv" => "Content-Type"}/
    %title MyApp
    %meta{:content => "width=device-width,initial-scale=1", :name => "viewport"}/
    = csrf_meta_tags
    = csp_meta_tag
    = javascript_include_tag 'bootstrap'
    = stylesheet_link_tag "application", "data-turbo-track": "reload"
    = stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track' => 'reload'
    = javascript_include_tag 'application', 'data-turbolinks-track' => true
  = favicon_link_tag 'ruby.png'
  = javascript_importmap_tags
  %body
    = render "shared/header"
    = render 'shared/flash'
    = yield
    = render "shared/footer"
    -# :javascript
    -#     var imageData = #{ @image_data.to_json };
    -#     console.log("IN display_theme: @image_data = " + JSON.toString(imageData) );
    -#     var valuesQty = imageData.values_qty
    -#     console.log("IN display_theme: valuesQty = " + valuesQty );
    -#     $('.left_controls span.total_values h2.total').
    -#     append().html(valuesQty);
    -#
    -#     // show theme
    -#     var selectedTheme = imageData.theme
    -#
    -#     if( selectedTheme == "Выберите тему для оценки" ||
    -#     selectedTheme == "Select theme to leave your answer" ||
    -#     selectedTheme == ""){
    -#       $('.img-left-side').css({"display": "none"});
    -#       $('.img-right-side').css({"display": "none"});
    -#       $('.image .image_display .image_diag').css({"display": "none"});
    -#     }else{
    -#       $('.img-left-side').css({"display": "block"});
    -#       $('.img-right-side').css({"display": "block"});
    -#       $('.image .image_display .image_diag').css({"display": "block"});
    -#     }
    -#
    -#     $('.image_display h2.up-theme').append().html(selectedTheme);
    -#
    -#     //restore button
    -#     $('.select_theme').empty().html(`#{raw render 'work/button_theme_select'}`);
    -#
    -#     // get data from controller
    -#     var imageCurrentIndex = 1
    -#     //var firstThemeImagesName =
    -#     JSON.parse(firstThemeImages)["name"];
    -#     var oneImageName = imageData.name
    -#     var oneImageFile = imageData.file
    -#     console.log("3e IN display_theme: oneImageFile = " +
    -#     oneImageFile);
    -#     var oneImageId = imageData.image_id
    -#     console.log("3f IN display_theme: oneImageId = " + oneImageId);
    -#     var themeImagesSize = imageData.images_arr_size;
    -#     var selectedThemeId = imageData.theme_id;
    -#
    -#
    -#     // show name of image
    -#     $('.image_display h2.up').append().html(oneImageName);
    -#
    -#     // show image
    -#     var pathImage = "assets/images/" + oneImageFile;
    -#     // $('.img-center').html('<img alt="Selected Image" src="' + pathImage + '"/>');
    -#     $(".img-center").attr({title: "Selected image" });
    -#     $(".img-center img").attr({alt: "Selected Image", src: pathImage, title: "Selected image" });
    -#      function nextImage() {
    -#         $.ajax({ type: "get",
    -#           url: "api/next_image",
    -#           data: { index: imageCurrentIndex, theme_id: selectedThemeId, length: themeImagesSize },
    -#           dataType: 'json'
    -#       })
    -#       .done(function (data_return) {
    -#           console.log("success:  " + data_return.notice );
    -#           imageCurrentIndex = data_return.new_image_index;
    -#           oneImageName = data_return.name;
    -#           oneImageFile = data_return.file;
    -#           oneImageId = data_return.image_id;
    -#           $('.image_display h2.up').append().html(oneImageName);
    -#
    -#           var pathImage = "assets/images/" + oneImageFile;
    -#
    -#           $(".img-center").attr({title: "Selected image" });
    -#           $(".img-center img").attr({alt: "Selected Image", src: pathImage, title: "Selected image" });
    -#       })
    -#       .fail(function (data_return) {
    -#         console.log("error: data_return = " + data_return);
    -#       });
    -#      }
